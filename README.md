# üöç Automatic Passenger Counting System

–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—á–µ—Ç–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º YOLO –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Ç—Ä–µ–∫–∏–Ω–≥–∞.


## üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üéØ –î–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π —Å –ø–æ–º–æ—â—å—é YOLOv11s 
- üìç –¢—Ä–µ–∫–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ (Bot-SORT/ByteTrack)
- üñ•Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPU/CPU
- üìÅ –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV


# –î–∞—Ç–∞—Å–µ—Ç
- –î–æ—Å—Ç—É–ø –∫ –¥–∞—Ç–∞—Å–µ—Ç—É –∏–∑ 500 –≤–∏–¥–µ–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ [—Å—Å—ã–ª–∫–µ](https://drive.google.com/file/d/1zVFNOq5J2lQcRZ0p42ac5j2vli2aLEKH/view?usp=sharing). –ü–æ–ª–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ [People Counting Dataset](https://github.com/shijieS/people-counting-dataset).
- [–î–∞—Ç–∞—Å–µ—Ç](https://drive.google.com/file/d/12y7UPofX-aXY-3yJRpnV3t4FfEV6FcYe/view?usp=sharing) - 7,000 –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.



# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
.
‚îú‚îÄ‚îÄ detect/                 
‚îÇ   ‚îú‚îÄ‚îÄ weights/             
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ best.pt         # –õ—É—á—à–∏–µ –≤–µ—Å–∞ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ last.pt         # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ results.csv         # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ trackers/
‚îÇ   ‚îú‚îÄ‚îÄ botsort.yaml        # –ö–æ–Ω—Ñ–∏–≥ Bot-SORT
‚îÇ   ‚îî‚îÄ‚îÄ bytetrack.yaml      # –ö–æ–Ω—Ñ–∏–≥ ByteTrack
‚îú‚îÄ‚îÄ test_videos/            # –¢–µ—Å—Ç–æ–≤—ã–µ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ people_counter.py       # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ training.ipynb          # –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ testing.py              # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è 
‚îú‚îÄ‚îÄ processed.csv           # –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ metrics.ipynb           # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏
```

# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞
- `model` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤–µ—Å–æ–≤ (.pt)
- `tracker` - –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–∫–µ—Ä–∞
- `device` - –≤—ã–±–æ—Ä CPU/GPU
- `input_path` - –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –≤–∏–¥–µ–æ
- `y` - Y-–ø–æ–∑–∏—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏
- `show` - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –≤–∏–¥–µ–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- `save` - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
- `grey` -  –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –ª–∏ –≤–∏–¥–µ–æ –≤ –≥—Ä–∞–¥–∞—Ü–∏–∏ —Å–µ—Ä–æ–≥–æ

# –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞
```python
from people_counter import PeopleCounter

counter = PeopleCounter(
    model="detect/exp/weights/best.pt",
    tracker="trackers/bytetrack.yaml")

enter, exit = counter.process_video(
    y=380,
    input_path="test_videos/1.mp4",
    output_path="result.mp4",
    show=True)
print(f"–í—Ö–æ–¥: {enter}, –í—ã—Ö–æ–¥: {exit}")
```



























